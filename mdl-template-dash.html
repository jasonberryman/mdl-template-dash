<link rel="import" href="../paper-drawer-panel/paper-drawer-panel.html">
<link rel="import" href="../iron-pages/iron-pages.html">
<link rel="import" href="../paper-header-panel/paper-header-panel.html">
<link rel="import" href="../paper-menu/paper-menu.html">
<link rel="import" href="../paper-item/paper-icon-item.html">
<link rel="import" href="../paper-item/paper-item-body.html">
<link rel="import" href="../paper-toolbar/paper-toolbar.html">
<link rel="import" href="../paper-item/paper-item.html">
<link rel="import" href="../iron-icon/iron-icon.html">
<link rel="import" href="../icon-icons/iron-icons.html">
<!--
  `<mdl-template-dash></mdl-template-dash>` app-temp
  @demo demo.html
-->
<dom-module id="mdl-template-dash">
  <template>
    <style>:host {display:block;background:#fff} </style>
    <paper-drawer-panel id="drawer">
      <paper-header-panel drawer>
        <paper-toolbar class="tall">
          <iron-icon icon="account-circle" class="middle" item-icon></iron-icon>
          <paper-item class="bottom">Switch Users</paper-item><paper-item class="bottom">Logout</paper-item>
        </paper-toolbar>
        <paper-menu style="text-transform:capitalize" selected="{{menuSelected}}" on-tap="closeMenu">
          <template is="dom-repeat" items="[[pages]]">
            <paper-icon-item title="[[item.Description]]"><iron-icon icon="[[item.Icon]]" item-icon></iron-icon><paper-item-body> [[item.Label]] </paper-item-body></paper-icon-item>
          </template>
        </paper-menu>
      </paper-header-panel>
      <paper-header-panel main>
        <paper-toolbar><iron-icon icon="menu" on-tap="openMenu"></iron-icon><div class=title style="text-transform:capitalize"> [[titlePage]] </div><iron-icon icon="more-vert"></iron-icon></paper-toolbar>
        <div style="background:#fff">
          <iron-pages selected="{{menuSelected}}">
            <template is="dom-repeat" items="[[pages]]">
              <div><content select="[[item.Label]]-page"></content></div>
            </template>
          </iron-pages>
        </div>
      </paper-header-panel>
    </paper-drawer-panel>
  </template>
</dom-module>
<script>
  Polymer({
    is: "mdl-template-dash",
    properties:{
      menuSelected:{
        type:Number,
        notify:true,
        value:0,
      },
      pages:{
        type:Array,
        value:["home","inbox"],
      },
      titlePage:{
        computed:"getTitlePage(pages,menuSelected)",
      },
    },
    openMenu: function(undefined){
      this.$.drawer.openDrawer()
    },
    closeMenu: function(undefined){
      this.$.drawer.closeDrawer()
    },
    getTitlePage: function(pages,page){
      return pages[page].Label
    },
  })
</script>
